(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30824,e=>{"use strict";var i=e.i(43476),t=e.i(63178),r=e.i(98345),n=e.i(54338),o=e.i(71645),a=e.i(59141);e.i(14560);var s=e.i(18546);e.i(1465);var c=e.i(34991);function l({children:e}){let{user:t}=(0,n.useAuth)();return(0,o.useEffect)(()=>{t&&(async()=>{try{let e=await Notification.requestPermission();if("granted"===e){let e=await (0,a.messaging)();if(!e)return;let i=await (0,s.getToken)(e,{});if(i){let e={};e[`/users/${t.uid}/fcmToken`]=i,await (0,c.update)((0,c.ref)(a.database),e)}else console.log("No registration token available. Request permission to generate one.");(0,s.onMessage)(e,e=>{console.log("Message received. ",e),new Notification(e.notification?.title||"VibeMap",{body:e.notification?.body,icon:"/icon-192x192.png"})})}}catch(e){console.error("An error occurred while retrieving token. ",e)}})()},[t]),(0,i.jsx)(i.Fragment,{children:e})}function u({children:e}){return(0,i.jsx)(t.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,i.jsx)(r.LanguageProvider,{children:(0,i.jsx)(l,{children:e})})})}e.s(["Providers",()=>u],30824)},77476,e=>{e.v(i=>Promise.all(["static/chunks/63f51e0c2c049edf.js"].map(i=>e.l(i))).then(()=>i(49038)))},60574,e=>{e.v(i=>Promise.all(["static/chunks/bf5f39ca48db475d.js"].map(i=>e.l(i))).then(()=>i(3560)))}]);